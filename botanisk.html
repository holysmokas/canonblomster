<!--  botanisk.html  -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kurater â€“ Canon Blomster</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="icon" type="image/jpeg" href="images/favicon.jpeg">
</head>

<body class="botanisk">

    <header class="header-flex">
        <div class="header-title">
            <h1>CANON BLOMSTER</h1>
            <p class="opening-hours">Ã…bent: M â€“ F 10:00â€“17:00 &nbsp; | &nbsp; LÃ¸r. &nbsp; SÃ¸n. 10:00â€“16:00</p>
        </div>
        <nav class="hamburger-nav">
            <input type="checkbox" id="menu-toggle" />
            <label for="menu-toggle" class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </label>
            <ul class="menu">
                <li><a href="index.html">Hjemside</a></li>
                <li><a href="botanisk.html">Botanisk</a></li>
                <li><a href="kurater.html">Kurater</a></li>
            </ul>
        </nav>
    </header>

    <div class="delivery-info">
        ðŸŒ¸ <strong>Vi leverer kun pÃ¥ Amager</strong><br>
        ðŸšš Levering inden for <strong>200 meter</strong>: 30 kr.<br>
        ðŸ“¦ Mellem <strong>200 m og 1 km</strong>: 60 kr.<br>
        ðŸŒº <strong>Resten af Amager</strong>: 100 kr.
    </div>

    <main>
        <section style="max-width: 1200px; margin: 40px auto 20px; padding: 0 20px;">
            <p class="intro">
                Beliggende i hjertet af KÃ¸benhavn er vores butik et paradis for blomsterelskere, der
                tilbyder et omhyggeligt kurateret udvalg af friske blomster, frodige planter og skrÃ¦ddersyede
                buketter. Med inspiration fra byens nordiske elegance og botaniske traditioner blander vi livlige
                sÃ¦sonbestemte blomster med moderne design og skaber arrangementer, der forvandler ethvert rum
                og fejrer livets enkle glÃ¦der. TrÃ¦d indenfor og oplev en hyggelig, lys butik, hvor hver kunde bliver
                mÃ¸dt med kyndig og venlig service, og hvor hver buket er fremstillet til at fortÃ¦lle en unik
                historie â€“ perfekt til at lyse dit hjem op eller glÃ¦de en sÃ¦rlig person.
            </p>
        </section>

        <section class="product-filter">
            <label for="categoryFilter">FiltrÃ©r efter kategori:</label>
            <select id="categoryFilter">
                <option value="all">Alle</option>
                <option value="bouquets">Buketter</option>
                <option value="plants">Planter</option>
                <option value="seasonal">SÃ¦son</option>
            </select>
        </section>

        <div class="image-grid" id="imageGrid"></div>

    </main>
    <footer>
        <p>&copy; 2025 Canon Blomster www.canonblomster.dk</p>
    </footer>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js";
        import { getFirestore, collection, onSnapshot } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAZWzsKzT8Fc-_aI9gbWhZogrvmAmNs8Yg",
            authDomain: "canon-blomster.firebaseapp.com",
            projectId: "canon-blomster",
            storageBucket: "canon-blomster.appspot.com", // âœ… corrected
            messagingSenderId: "549469063023",
            appId: "1:549469063023:web:35cbf9a9c84af8c1e70a9a",
            measurementId: "G-B1VLK21EH1"
        };



        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app, "europe-north2");

        const productsRef = collection(db, "products");

        const imageGrid = document.getElementById("imageGrid");
        const categoryFilter = document.getElementById("categoryFilter");

        let allProducts = []; // cache products

        // Real-time listener for all products
        onSnapshot(productsRef, (snapshot) => {
            allProducts = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
            renderProducts(allProducts);
        });

        // Render filtered products
        function renderProducts(products) {
            imageGrid.innerHTML = '';

            if (products.length === 0) {
                imageGrid.innerHTML = '<p style="text-align:center; color:#999;">Ingen produkter fundet ðŸŒ¸</p>';
                return;
            }

            products.forEach(product => {
                const card = document.createElement('div');
                card.classList.add('product-item');
                card.innerHTML = `
      <div class="product-card">
        <img src="${product.image}" alt="${product.name}" class="product-image" onerror="this.src='images/placeholder.jpeg'">
        <h3>${product.name}</h3>
        <p>${product.description}</p>
      </div>
    `;
                imageGrid.appendChild(card);
            });
        }

        // Filter on dropdown change
        categoryFilter.addEventListener('change', () => {
            const selected = categoryFilter.value;
            if (selected === 'all') {
                renderProducts(allProducts);
            } else {
                const filtered = allProducts.filter(p => (p.category || '').toLowerCase() === selected);
                renderProducts(filtered);
            }
        });
    </script>



</body>

</html>