<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | Canon Blomster</title>

    <!-- Global Styles -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/admin-dashboard.css">
</head>

<body>

    <!-- HEADER (Same as other pages) -->
    <header class="site-header">
        <div class="header-container">
            <a href="index.html" class="logo">üå∏ Canon Blomster</a>
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html">Hjem</a></li>
                    <li><a href="botanisk.html">Botanisk</a></li>
                    <li><a href="kurater.html">Kurater</a></li>
                    <li><a href="admin-login.html">Log ud</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- DASHBOARD MAIN -->
    <main>
        <div class="dashboard-container">
            <h2>üåº Tilf√∏j nyt produkt</h2>

            <form class="dashboard-form" id="addProductForm">
                <label for="productName">Produktnavn</label>
                <input type="text" id="productName" placeholder="F.eks. Roser i buket" required>

                <label for="productPrice">Pris (kr)</label>
                <input type="number" id="productPrice" placeholder="F.eks. 150" required>

                <label for="productDescription">Beskrivelse</label>
                <textarea id="productDescription" rows="3" placeholder="Kort beskrivelse af produktet"></textarea>

                <label for="productImage">Upload billede</label>
                <input type="file" id="productImage" accept="image/*">

                <button type="submit">‚ûï Tilf√∏j produkt</button>
            </form>

            <div id="statusMessage" style="margin-top:20px; text-align:center;"></div>
        </div>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
        <p>&copy; 2025 Canon Blomster | Admin Dashboard</p>
    </footer>

    <script>
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbw3iStt0_WE6Pluyi-WaheHrXyfrZQfDlWs2G8aVcPp7dvykMGGeHYpX6Zm_1HgZ8VJ/exec";

        const form = document.getElementById('addProductForm');
        const statusMessage = document.getElementById('statusMessage');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            const name = document.getElementById('productName').value.trim();
            const price = document.getElementById('productPrice').value.trim();
            const description = document.getElementById('productDescription').value.trim();

            // For now, just use local file name or future Drive URL
            const imageInput = document.getElementById('productImage');
            const imageUrl = imageInput.files.length ? imageInput.files[0].name : "";

            const product = { name, price, description, imageUrl };

            statusMessage.textContent = "üíæ Tilf√∏jer produkt...";
            statusMessage.style.color = "#555";

            try {
                const res = await fetch(SCRIPT_URL, {
                    method: "POST",
                    mode: "no-cors",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(product)
                });

                form.reset();
                statusMessage.textContent = "‚úÖ Produkt tilf√∏jet!";
                statusMessage.style.color = "green";
            } catch (err) {
                console.error(err);
                statusMessage.textContent = "‚ùå Der opstod en fejl. Pr√∏v igen.";
                statusMessage.style.color = "red";
            }
        });
    </script>


</body>

</html>